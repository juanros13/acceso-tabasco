spring:
  application:
    name: user-management-service
  
  # TestContainers manejar치 la configuraci칩n de la base de datos autom치ticamente
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  # Disable cloud config for tests
  cloud:
    config:
      enabled: false
  
  # Disable Eureka for tests
  cloud.discovery:
    enabled: false

  # Test security configuration
  security:
    oauth2:
      resourceserver:
        jwt:
          # Mock JWT configuration for tests
          issuer-uri: http://localhost:8180/realms/test
          jwk-set-uri: http://localhost:8180/realms/test/protocol/openid-connect/certs

# Disable Eureka for tests
eureka:
  client:
    enabled: false

# Test configuration
tabasco:
  gov:
    sistema:
      nombre: "Sistema de Gesti칩n de Usuarios - TEST"
      version: "1.0.0-TEST"
    user-management:
      default-role: "USER_BASIC"
      auto-create-profiles: true
      sync-with-nomina: false
      password-policy:
        min-length: 6
        require-uppercase: false
        require-lowercase: false
        require-numbers: false
        require-special-chars: false

# Logging for tests
logging:
  level:
    saf.cgmaig.usermanagement: DEBUG
    org.springframework.security: DEBUG
    org.testcontainers: INFO
    org.hibernate.SQL: DEBUG
    root: INFO

# Actuator for tests
management:
  endpoints:
    web:
      exposure:
        include: health,info